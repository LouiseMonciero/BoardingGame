const server_url="https://boarding-games-server.vercel.app";document.addEventListener("alpine:init",(()=>{Alpine.data("gameDetails",(()=>({game:null,isLoading:!0,async init(){const e=new URLSearchParams(window.location.search).get("id");if(e)try{const a=await fetch(`${server_url}/api/games/${e}`);if(!a.ok)throw new Error("Jeu non trouvÃ©");this.game=await a.json(),this.game&&(this.game.mechanics=this.formatList(this.game.boardgamemechanic),this.game.publishers=this.formatList(this.game.boardgamepublisher),this.game.artists=this.formatList(this.game.boardgameartist),this.game.designers=this.formatList(this.game.boardgamedesigner),this.game.categories=this.game.categories?this.game.categories.split(", "):[])}catch(e){console.error("Erreur:",e)}finally{this.isLoading=!1}else this.isLoading=!1},formatList(e){if(!e)return[];return e.replace(/^\[|\]$/g,"").replace(/'/g,"").replace(/"/g,"").split(/,\s*\n|,\s*/).map((e=>e.trim())).filter((e=>e.length>0))}})))}));